<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../../MooTools-Core-1.6.0.js"></script>
</head>
<body>
    <h1 id="header01">Function</h1>

    <h2 id="bindElement" >bindElement</h2>
    <h3>Test</h3>
<script>
    //demo01
    //类方法

    //类方法convert
    //Returns the passed parameter as a Number, or null if not a number.
    //var fn = Function.convert(42);
    //console.log(fn);    //


    //    var fn1 = Function.convert();        // equivalent to var fn1 = function(){};
    //    var fn2 = Function.convert('foo');    // equivalent to var fn2 = function(){ return foo; };
    //    console.log(fn1);
    //
    //    //执行一系列函数,返回第一个非失败的函数,如果没有成功的将返回null。
    //    var result = Function.attempt(function () {
    //        return some.made.up.object;
    //    }, function () {
    //        return jibberish.that.doesnt.exists;
    //    }, function () {
    //        return false;
    //    });
    //
    //    console.log(result);
    //    //result is false
    //
    //    var failure, success;
    //
    //    Function.attempt(function () {
    //        some.made.up.object = 'something';
    //        success = true;
    //    }, function () {
    //        failure = true;
    //    });
    //
    //    if (success) alert('yey!'); //没有alert
    //    if (failure) alert('none'); //alert


    //extend
    //扩展了一个函数新的方法或属性.
    //    var myFunction = function(){};
    //    myFunction.extend('alert', function(text){
    //        alert(text);
    //    });
    //    myFunction.alert('Hello!'); // alerts Hello!
    //
    //    // Using objects
    //    myFunction.extend({
    //        alert: function(text){
    //            alert(text);
    //        }
    //    });


    //implement
    //函数的原型扩展方法

    //    var myFunction = function(){};
    //    myFunction.implement('alert', function(text){
    //        alert(text);
    //    });
    //    var myInstance = new myFunction();
    //    myInstance.alert('Hello!'); // alerts Hello!
    //
    //    // Using objects
    //    myFunction.implement({
    //        alert: function(text){
    //            alert(text);
    //        }
    //    });

    //attempt
    //同 Function.attempt
//    var result;
//    var myFunction = function () {
//        return some.made.up.object;
//    };
//    result = myFunction.attempt(); // returns 'null'
//    console.log(result); // returns 'null'
//    console.log(result === null); // returns true
//
//    var myFunction = function (val) {
//        return val;
//    };
//    result = myFunction.attempt(false); // returns 'false'
//    console.log(result); // returns 'false'


    //pass
    // 返回一个闭包
//    var myFunction = function(){
//        var result = 'Passed: ';
//        for (var i = 0, l = arguments.length; i < l; i++){
//            result += (arguments[i] + ' ');
//        }
//        return result;
//    }
//    var myHello = myFunction.pass('hello');
//    var myItems = myFunction.pass(['peach', 'apple', 'orange']);
//
//    // Later in the code, the functions can be executed:
//    alert(myHello()); // passes 'hello' to myFunction.
//    alert(myItems()); // passes the array of items to myFunction.


    //bind
    //
//    function myFunction(attr, value){
//        // Note that 'this' here refers to window, not an element.
//        // the function must be bound to the element we want to manipulate.
//        console.log(attr);
//        console.log(value);
//        this.setStyle(attr, value);
//    };
//    var myElement = document.getElementById('bindElement');
////    var myBoundFunction = myFunction.bind(myElement, 'color', 'red');
////    myBoundFunction(); // makes myElement's text red
//
//    // To show how bind works the following example:
//    var anyVar = document.getElementById('header01');
//    //var myBoundFunction = myFunction.bind(anyVar, 'color', 'blue');
//    // is roughly equivalent with
//    var myBoundFunction = function(){
//        //console.log(this);
//        return myFunction.call(anyVar, 'color', 'blue');
//    };
//    //console.log(myBoundFunction);
//    myBoundFunction();

    //delay
//    var myElement = document.getElementById('bindElement');
//    var myFunction = function(){ alert('moo! Element id is: ' + this.id); };
//
//    //wait 50 milliseconds, then call myFunction and bind myElement to it
//    myFunction.delay(50, myElement); // alerts: 'moo! Element id is: ... '
//
//    //an anonymous function which waits a second and then alerts
//    (function(){ alert('one second later...'); }).delay(1000);
//
//    //to stop the delay, clearTimeout can be used like so:
//    var timer = myFunction.delay(50);
//    clearTimeout(timer);


    //periodical
    //循环执行
//    var Site = { counter: 0 };
//    var addCount = function(){ this.counter++;  console.log(Site);};
//    var timer001 = addCount.periodical(1000, Site); //adds the number of seconds at the Site.
//    clearInterval(timer001);
//
//    // the interval can be stopped using the clearInterval function
//    var myElement = document.getElementById('bindElement');
//    var myFunction = function(){ alert('moo! Element id is: ' + this.id); };
//    var timer = myFunction.periodical(1000, myElement);
//    clearInterval(timer);

</script>
</body>
</html>
